rift (2.25.0.10.5) unstable; urgency=low

  * config: added new thread options example
  * io: made iodevices index size_t for easier comparison with .size() methods
  * io: fixed incorrect timing string: usecs->msecs
  * server: fixed typo in config option names for the number of network threads

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 23 Jul 2014 03:24:07 +0400

rift (2.25.0.10.4) unstable; urgency=low

  * rift: Added ability to configure threads count

 -- Ruslan Nigmatullin <euroelessar@yandex.ru>  Tue, 22 Jul 2014 17:52:36 +0400

rift (2.25.0.10.3) unstable; urgency=low

  * io: get rid of exception added into /get/ handler for test purposes
  * io: added write rate calculation, added more upload handler logs
  * stat: added /route/ handler which returns json-encoded elliptics route table
  * io: Fixed segfault in case if there is no filename

 -- Ruslan Nigmatullin <euroelessar@yandex.ru>  Tue, 22 Jul 2014 16:45:14 +0400

rift (2.25.0.10.2) unstable; urgency=low

  * io: added iodevice index, which shows current iodevice to read from when handling client's /get/ request
  * rift-client-test: added 5-seconds request timeout. it is supposed to terminate get/post request on timeout
  * tests: stop after the first failure
  * delete: added logs into delete handler
  * packge: rift must depend on elliptics package, which contains server libs, they are needed to run tests
  * stat: added /stat/ handler

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 18 Jul 2014 20:49:07 +0400

rift (2.25.0.10.1) unstable; urgency=low

  * stat: put backend monitor json object into node_stat. Final stat json contains monitor json as 'backend' object.
  * stat: initial implementation of the internal stats fetching via /stat/ handler
  * Return back bulk dnet_add_state()/add_remote()
  * package: depend on 2.25.5.0+ elliptics-dev/elliptics-client
  * io: use json array when returning success/error write groups, cleaned up write logs
  * io: added success/error groups debug into writing path. write command returns success/error groups in result json now too.
  * io: do not request checksums for the second and the rest chunks. This is temporal change until elliptics backends start supporting partial checksums
  * buffer-device: get rid of internal string
  * io: fixed buffered_device() constructor from std::string.
  * io: added lots of logs with URL string

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 17 Jul 2014 04:07:02 +0400

rift (2.25.0.10.0) unstable; urgency=low

  * indexes: removed index update at upload/delete operations
  * debug: alot of new debug prints at info level like partial write and so on

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sun, 13 Jul 2014 04:18:25 +0400

rift (2.25.0.9.1) unstable; urgency=low

  * rift: Added migration for bucket_acl
  * * This is a migration from old 'noauth' flags to new 'auth' one

 -- Ruslan Nigmatullin <euroelessar@yandex.ru>  Sat, 12 Jul 2014 18:55:53 +0400

rift (2.25.0.9.0) unstable; urgency=low

  * server: do not stop vfs completion processing if overall result failed.
  * * This happens when one or more stat transactions failed, since stat and monitor commands are synchronous.
  * * It was changed in elliptics 2.25.4.15, stat/monitor commands became async, so this change could be dropped.
  * rift: Reimplemented authorization mechanism
  * * Authorization mechanism was splitted to separate class based on authorization_checker_base.
  * * Added ability to create read-only users or bucket administrators.
  * * Changed users' flags in bucket's access control list, new flags are: has_no_token, is_writer, is_administrator.
  * rift: Don't check handler's name, check it's type
  * s3: Added authorization and s3_server binary
  * * Common functionality of s3 and rift servers were splitted to base_server class.
  * * Added support for AWS aka s3 version 2 authorization API.
  * * Added base skeleton for s3 version 4 authorization API.
  * * Added meta_head - API for requesting for bucket's existence.
  * s3: Implemented Object PUT handler	    
  * * Added MD5 checksum verification for AWS authorization mechanism
  * s3: Added support for subdomain calling format
  * rift: Added more logs for write operation

 -- Ruslan Nigmatullin <euroelessar@yandex.ru>  Sat, 12 Jul 2014 17:59:31 +0400

rift (2.25.0.8.9) unstable; urgency=low

  * rift: switched to  human readable URLs printed in logs
  * rift: Added charset to content-type in json replies
  * Auth: Returned previous authorization method (path is not decoded)
  * timer: added 'timeout' timer
  * rift: do not throw session exceptions
  * rift: added async statistics gathering mechanism
  * tests: include .: special symbols in default bucket/user names
  * example: added various examples into debian/rhel packages and git repo

 -- Evgeniy Polyakov <zbr@ioremap.net>  Mon, 09 Jun 2014 19:31:58 +0400

rift (2.25.0.8.8) unstable; urgency=low

  * rift: Changed Authorization header
  * rift: Lookup optimization for range requests
  * session: added trace_id URI parameter

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 28 May 2014 20:23:01 +0400

rift (2.25.0.8.7) unstable; urgency=low

  * test: added small size read test
  * io: fixed last read for one chunk read only. optimized reads which are smaller than chunk size (5mb)

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 21 May 2014 00:15:48 +0400

rift (2.25.0.8.6) unstable; urgency=low

  * rift: use full url string in log
  * rift: wrap all item_value() calls into try/catch block
  * test: added large file upload and size/offset download test
  * test: use correct array URI encoding
  * io: added 'size' URI parameter. If there is no 'range' header or there is 'size' uri parameter, read chunk of data,
  * 	get total size and continue reading instead of running lookup command and then reading data in chunks.
  * 	Updated async_device reader to read 'size' bytes from 'offset', previously 'size' field ment total size of the object

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 20 May 2014 22:24:28 +0400

rift (2.25.0.8.5) unstable; urgency=low

  * auth: get rid of unused debug

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 09 May 2014 02:55:46 +0400

rift (2.25.0.8.4) unstable; urgency=low

  * rift: added some ugly auth debug

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 09 May 2014 02:29:26 +0400

rift (2.25.0.8.3) unstable; urgency=low

  * rift: Added forgotten option path-prefix
  * tests: added read-bucket test
  * meta: forbid bucket metadata reading to wildcard and readonly users
  * acl: added readonly bit
  * meta: added /read-bucket/ handler which returns pretty-formatted bucket metadata json
  * bucket: return 404 instead of 403 if bucket to be processed was not found
  * test: do not use str.format(), since it is not properly supported by RHEL python

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 08 May 2014 20:09:04 +0400

rift (2.25.0.8.2) unstable; urgency=low

  * rift: Changed url for update-bucket
  * 	New signature is /update-bucket/directory/bucket
  * tests: Fixed indentation in tests.py
  * rift: indent cleanup

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 06 May 2014 00:31:06 +0400

rift (2.25.0.8.1) unstable; urgency=low

  * bucket: search for wildcard user if there is no user in URI
  * tests: fixed bucket create arguments
  * server: fixed on_delete_base class instantiation

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 02 May 2014 02:37:23 +0400

rift (2.25.0.8.0) unstable; urgency=low

  * rift: switched to new URL schema
  * rift: Added a bit of documentation about mixins
  * rift: Removed bucket_processing
  * rift: Moved last handler to bucket_processor
  * rift: Moved bucket_ctl::on_delete to bucket_mixin
  * rift: Removed some useless methods
  * rift: Moved more handlers to bucket-less API

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 01 May 2014 23:42:48 +0400

rift (2.25.0.7.4) unstable; urgency=low

  * delete-meta: check if delete-bucket has bucket directory name
  * tests: test server should use only 1 index shard
  * meta_delete: added more debug
  * tests: Write server node's logs to file
  * cmake: tests should properly export library path
  * meta: remove bucket from bucket-directory indexes using metadata session
  * tests: Run dnet_run_servers from PATH
  * meta: use metadata session when removing bucket metadata. Do not return 404 if there are no data keys in bucket
  * tests: Added test for delete-bucket handler
  * tests: Added test for /delete/ handler
  * rift: Finally removed non-bufferized update handler
  * Revert "list: allow to list arbitrary indexes, it is useless for /update/-created indexes though since /update/ handler doesn't put bucket_meta_index_data there"

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 30 Apr 2014 00:37:19 +0400

rift (2.25.0.7.3) unstable; urgency=low

  * delete: remove key from 'bucket.index' index when key is being deleted
  * tests: Fixed format for lucid's python
  * list: allow to list arbitrary indexes, it is useless for /update/-created indexes though since /update/ handler doesn't put bucket_meta_index_data there
  * tests: Set ld_library_path inside virtualenv
  * debian: Add build deps on cocaine-framework-native
  * debian: Added elliptics to build dependencies
  * tests: Run tests inside virtualenv
  * debian: Depend on python-requests
  * packages: Depends on pytest

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sat, 26 Apr 2014 03:47:18 +0400

rift (2.25.0.7.2) unstable; urgency=low

  * tests: Removed unused c++ tests
  * rpm: Depend on elliptics-devel
  * packages: Added running tests after build
  * bucket: Return 401 status if Authorized is missed
  * index: Fixed reading out of allocated memory
  * tests: Added python tests for every handler

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 24 Apr 2014 21:28:28 +0400

rift (2.5.0.7.1) unstable; urgency=low

  * elliptics: do not stop adding remote nodes (and initialize client node) if node can not be added
  * rift: get rid of rift_bucket_ctl, all operations can be performed via http REST API

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 22 Apr 2014 14:55:18 +0400

rift (0.7.1) unstable; urgency=low

  * elliptics: do not stop adding remote nodes (and initialize client node) if node can not be added
  * rift: get rid of rift_bucket_ctl, all operations can be performed via http REST API

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sun, 20 Apr 2014 21:29:22 +0400

rift (2.25.0.7.0) unstable; urgency=low

  * bucket: added create/remove API
  * bucket: added bucket directory support - directory may contain multiple buckets
  * io: added object remove API
  * api: changed URL format
  * major set of cleanup commits

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 10 Apr 2014 02:07:42 +0400

rift (2.25.0.6.12) unstable; urgency=low

  * acl: added per bucket ACL support
  * list: added python listing example

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 25 Feb 2014 02:56:28 +0400

rift (2.25.0.6.11) unstable; urgency=low

  * bucket: added timestamp into packed index
  * list: added index listing
  * cmake: fixed versioning
  * io: nicer debug

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 18 Feb 2014 03:31:20 +0400

rift (2.25-0.6.10) unstable; urgency=low

  * cmake: new versioning

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 18 Feb 2014 00:07:50 +0400

rift (0.6.9) unstable; urgency=low

  * debian: depend on elliptics >= 2.24.15.1 and << 2.25.0.0
  * elliptics_base: added read/write timeouts: config options, update IO sessions

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sun, 02 Feb 2014 17:17:08 +0400

rift (0.6.8) unstable; urgency=low

  * package: provide correct package build versions

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 28 Jan 2014 01:31:09 +0400

rift (0.6.7) unstable; urgency=low

  * logger: use swarm's logger as well as its log-level, otherwise default (INFO) was used
  * server: elliptics node must be destructed after all threads and sessions are gone
  * example-config: updated noauth and redirect-port options

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 24 Jan 2014 22:57:08 +0400

rift (0.6.6) unstable; urgency=low

  * io:upload_base: upload updates indexes in all but cached groups, check meta.groups.size() when updating gropus - metadata can be empty if buckets are not supported. Debug logs added.

 -- Evgeniy Polyakov <zbr@ioremap.net>  Thu, 16 Jan 2014 21:26:01 +0400

rift (0.6.5) unstable; urgency=low

  * extract_key: only set metadata groups and namespace if bucket_meta is not 'empty'

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 14 Jan 2014 19:51:59 +0400

rift (0.6.4) unstable; urgency=low

  * elliptics_base: move elliptics connector wrapper into header file, so it can be reused in external projects like wookie
  * index: update/find indexes now support bucket processing and authentification
  * Example: Added proper url support for http_auth example
  * Debian: Depend on libmsgpack-dev not msgpack-devel
  * rhel: compilation fixes

 -- Evgeniy Polyakov <zbr@ioremap.net>  Tue, 14 Jan 2014 00:09:50 +0400

rift (0.6.3) unstable; urgency=low

  * build: dependencies update
  * Example: Added headers support to python auth example
  * Signature: Added comment about signature arguments
  * Tests: Added tests for get/upload/ping/echo/lookup handlers
  * Example: Added initialization script for start/stop daemon

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 06 Dec 2013 01:07:50 +0400

rift (0.6.3) unstable; urgency=low

  * build: dependencies update

 -- Evgeniy Polyakov <zbr@ioremap.net>  Fri, 06 Dec 2013 01:05:54 +0400

rift (0.6.2) unstable; urgency=low

  * rift: made redirect handler a separate option, not either redirect or get
  * bucket_meta: fixed memset() ovrwrite
  * spec: added rhel/fedora spec file
  * config: if bucket section was not specified, set noauth-allowed flag
  * rift: made redirect handler a separate option, not either redirect or get

 -- Evgeniy Polyakov <zbr@ioremap.net>  Mon, 02 Dec 2013 21:34:55 +0400

rift (0.6.1) unstable; urgency=low

  * rift: only allow query by elliptics ID if 'noauth: allowed' is set and authentication is globally turned off

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sun, 01 Dec 2013 06:20:19 +0400

rift (0.6.0) unstable; urgency=low

  * bucket: added auth/metadata layer

 -- Evgeniy Polyakov <zbr@ioremap.net>  Sun, 01 Dec 2013 04:46:26 +0400

rift (0.5.0) unstable; urgency=low

  * rift: HTTP access point to elliptics distributed network

 -- Evgeniy Polyakov <zbr@ioremap.net>  Wed, 20 Nov 2013 01:56:36 +0400

